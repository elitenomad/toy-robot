# Toy::Robot

Welcome to your new gem!.

# Problem

The Toy Robot challenge is well known coding challenge that can be solved in many different ways — we’ve given this one a twist. ActivePipe wants to use this challenge to assess your problem solving skills and gauge how you approach the problem.

A Github repository should be used to share your code. We want to see your focus on extensible and maintainable code. Implement this challenge as if you were working as a part of the ActivePipe team. Other team members may contribute to the codebase over time and the requirements may change.

The challenge is to simulate a toy robot moving on a square board of 6 x 6 units. The robot can roam around the surface of the board but shouldn’t be able to fall off the edge. The twist is you are able to place any number of robots on the board and they move independently of each other. Any movement that would result in the robot falling from the board or colliding with another robot must be prevented, however further valid movement commands must still be allowed.

A robot, that we have named NAME in this example should read the following commands:

```
NAME: PLACE X,Y,F
NAME: MOVE
NAME: LEFT
NAME: RIGHT
NAME: REPORT
```

All robots should adhere to the following rules:

- Input can be from a file, or from standard input, as the developer chooses.
- PLACE will put a toy robot on the board in position X,Y and facing NORTH, SOUTH, EAST or
WEST.
- The origin (0,0) can be considered to be the SOUTH WEST most corner.
- The first valid command for a robot is a PLACE command, after that, any sequence of commands may be issued, in any order, including another PLACE command. The application should discard all
commands in the sequence for a given robot until a valid PLACE command has been executed
- MOVE will move a toy robot one unit forward in the direction it is currently facing.
- LEFT and RIGHT will rotate a robot 90 degrees in the specified direction without changing the
position of the robot. REPORT will announce the X,Y and F of a robot. This can be in any form, but
standard output is sufficient.
- A toy robot must not hit the edges of the board during movement, including when the robot is initially
placed on the board.
- Any move that would cause the robot to fall off the edge of the board or collide with another robot
must be ignored.
- Provide test data to exercise the application.


## Folder structure

`bundle gem toy-robot` provided the structure to the project. 

As a team if we want to maintain the repo we can do so by building the gem everytime we modify or add changes to the repo and updating the version.


```
├── CODE_OF_CONDUCT.md -- Added by bundler
├── Gemfile -- Track the dependencies required by the project
├── Gemfile.lock -- Lock file on the dependencies added by Gemfile.
├── LICENSE.txt -- Added by bundler
├── README.md -- Project description and usage
├── Rakefile -- generated by bundle [ Didn't use this in the project ]
├── bin
│   ├── console -- Helps setup the console with all the files required. 
│   └── setup -- Setsup the project on other computers(e.g bundle install)
├── design
│   └── Rough-Tech-Design.jpg -- Highlevel Tech design
├── exe
│   ├── simulator -- Binary to run the game per file.
│   ├── usecase-1.txt
│   ├── usecase-2.txt
│   ├── usecase-3.txt
│   └── usecase-4.txt
├── lib
│   └── toy
│       ├── robot
│       │   ├── cli.rb --  Command Line class that loads and parses the input file.
│       │   ├── command.rb -- Parser class.
│       │   ├── game.rb --  Class which enables Players move robots on the Grid.
│       │   ├── grid.rb -- Class which preares the Grid || Board of specific width and height
│       │   ├── players.rb -- Collection class which keeps track of player and his positions
│       │   ├── robot.rb --  Class which is responsible for robot actions on the Grid.
│       │   └── version.rb -- Gem version file
│       └── robot.rb -- Gateway file (Created by bundler).
├── spec -- Spec files for the source code
└── toy-robot.gemspec -- Highlevel information about the projects and its dependencies.

```

Note: Use cases mentioned in the PDF are listed under `exe` folder as exe/usecases-{n}.txt

## Installation

Add this line to your application's Gemfile:

```ruby
gem 'toy-robot'
```

And then execute:

    $ bundle install

Or install it yourself as:

    $ gem install toy-robot

## Usage

Note: Ensure latest ruby is installed on the system.

1. git clone https://github.com/elitenomad/toy-robot.git
2. cd toy-robot/exe
3. Run simulator command with filename as argument.


```
    ./simulator usecase-1.txt
```

# Design

## Considerations

1. Took `bundle gem` help to create a folder structure. Idea was to maintain the repo with proper versioning.
2. Created a `Players` class which is more of a Collections class based on the name and robot, it helps to keep track of player's (differentiated by name) robot position and direction.
3. In the code, the Grid is set to static `6 X 6` dimensions. We can enhance the design easily by providing the variable dimensions from the user input. 
4. Minor: Added clear function to Players collection class for testing purposes (It was helpful in tests).
5. If `bin/console` is used to test the functionality. Ensure to reload it for everyfile as the Cli has to instantiate `Game` everytime. (or use simulator binary :P)

## Assumptions

1. One of the rules was to ignore the command if it is invalid. So the code won't show any error to the user, it just ignores the command and moves on.
2. Not happy with the `Players` name but i thought it's most apt given the mental model i created for the problem.
3. Only the text files are provided as input. Program return an error if any file format is provided as input.
4. Robots won't jump when they are moving on the grid.


## Development

After checking out the repo, run `bin/setup` to install dependencies. Then, run `rake spec` to run the tests. You can also run `bin/console` for an interactive prompt that will allow you to experiment.

To install this gem onto your local machine, run `bundle exec rake install`. To release a new version, update the version number in `version.rb`, and then run `bundle exec rake release`, which will create a git tag for the version, push git commits and tags, and push the `.gem` file to [rubygems.org](https://rubygems.org).

## Contributing

Bug reports and pull requests are welcome on GitHub at https://github.com/[USERNAME]/toy-robot. This project is intended to be a safe, welcoming space for collaboration, and contributors are expected to adhere to the [code of conduct](https://github.com/[USERNAME]/toy-robot/blob/master/CODE_OF_CONDUCT.md).


## License

The gem is available as open source under the terms of the [MIT License](https://opensource.org/licenses/MIT).

## Code of Conduct

Everyone interacting in the Toy::Robot project's codebases, issue trackers, chat rooms and mailing lists is expected to follow the [code of conduct](https://github.com/[USERNAME]/toy-robot/blob/master/CODE_OF_CONDUCT.md).
